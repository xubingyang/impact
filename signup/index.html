<!DOCTYPE html>
<html>

<head>
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PZH4WXX');</script>
  <!-- End Google Tag Manager -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha1/0.6.0/sha1.min.js"></script>
  <link rel="stylesheet" href="/assets/styles.css">

  <script type="text/javascript">
    const queryParams = new URLSearchParams(window.location.search)
    if (queryParams.has('irclickid') || queryParams.has('iradname')) {
      const irclickid = queryParams.get('irclickid')
      const iradname = queryParams.get('iradname')
      localStorage.setItem('_ir_clickid', irclickid)
      localStorage.setItem('_ir_ad_name', iradname)
    }
  </script>
  <title>Impact Demo Order Page | Impact デモ注文ページ</title>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PZH4WXX" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="form-body">
    <div class="row">
      <div class="form-holder">
        <div class="form-content">
          <div class="form-items">
            <h3>Signup(登録)</h3>
            <p class="mb-0">Data is only for demo purpose</p>
            <p>データは、デモのみを目的としています。</p>
            <form>

              <div class="col-md-12">
                <label class="text-white mb-0" for="username">Username(ユーザー名)</label>
                <input class="form-control" type="text" name="ousernamerderId" id="username" placeholder="xubingyang">
              </div>

              <div class="col-md-12">
                <label class="text-white mb-0" for="email">Email(メールアドレス)</label>
                <input class="form-control" type="text" name="email" id="email" placeholder="Bingyang.Xu@impact.com">
              </div>

              <div class="form-button mt-3">
                <a id="signup" href="/signup/success/" class="btn btn-success">Signup(登録する)</a>
                <a href="/" class="btn btn-primary">Go back(戻る)</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const signup = document.querySelector('#signup')
    signup.addEventListener('click', () => {
      const customerId = uuid.v4()
      const orderId = customerId
      // const orderId = uuid.v4()
      localStorage.setItem('_ir_customer_id', customerId)
      localStorage.setItem('_ir_order_id', orderId)
      const username = document.querySelector('#username').value
      const emailRaw = document.querySelector('#email').value
      localStorage.setItem('_ir_username', username)
      const customerEmail = sha1(emailRaw)
      localStorage.setItem('_ir_email', customerEmail)
    })
  </script>
</body>

</html>
